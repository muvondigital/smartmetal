# ========================================
# MONITORING & OBSERVABILITY CONFIGURATION
# ========================================

# Sentry Error Tracking
# Sign up at https://sentry.io and create a new Node.js project
# Copy the DSN from Project Settings > Client Keys (DSN)
SENTRY_DSN=https://examplePublicKey@o0000000.ingest.sentry.io/0000000

# Sentry Environment (dev, staging, production)
# This helps filter errors by environment in Sentry dashboard
SENTRY_ENVIRONMENT=development

# Sentry Release (optional)
# Use git commit hash or version number for release tracking
# This enables features like:
# - Suspect commits (link errors to specific code changes)
# - Release health monitoring
# - Deploy notifications
# Example: SENTRY_RELEASE=1.0.0
# Example: SENTRY_RELEASE=$(git rev-parse HEAD)
SENTRY_RELEASE=1.0.0

# Rate Limit Bypass Token (optional)
# Secret token for bypassing rate limits in testing/admin scenarios
# Generate a strong random token: openssl rand -hex 32
# Leave blank in production unless needed for admin operations
RATE_LIMIT_BYPASS_TOKEN=

# ========================================
# AZURE COST MONITORING
# ========================================

# Azure Cost Alerts (optional)
# These values are not used by the app but are recommended
# to be configured in Azure Portal > Cost Management + Billing
# Recommended alerts:
# - $50/month: Warning (normal usage)
# - $100/month: Alert (investigate)
# - $150/month: Critical (review immediately)
# - $180/month: Emergency (potential abuse)

# ========================================
# SETUP INSTRUCTIONS
# ========================================

# 1. SENTRY SETUP:
#    a. Go to https://sentry.io and sign up/login
#    b. Click "Create Project"
#    c. Select "Node.js" as platform
#    d. Choose alert frequency (recommended: "Alert on every new issue")
#    e. Copy the DSN and paste above
#    f. Set SENTRY_ENVIRONMENT to match your environment
#
# 2. RATE LIMITING:
#    - No setup required, works out of the box
#    - AI endpoints: 10 requests per 15 minutes
#    - Standard endpoints: 100 requests per 15 minutes
#
# 3. AZURE COST ALERTS:
#    a. Go to Azure Portal > Cost Management + Billing
#    b. Select your subscription
#    c. Click "Budgets" in left menu
#    d. Click "+ Add" to create new budget
#    e. Set budget amount (e.g., $200/month)
#    f. Set alert thresholds:
#       - 25% of budget: Warning email
#       - 50% of budget: Alert email
#       - 75% of budget: Critical email
#       - 90% of budget: Emergency email
#    g. Add notification email addresses
#
# 4. VERIFICATION:
#    - Start the backend server
#    - Check console for: "[Sentry] Monitoring enabled"
#    - Trigger a test error: GET http://localhost:3000/api/test-error
#    - Check Sentry dashboard for error event
#
# ========================================
# PRODUCTION RECOMMENDATIONS
# ========================================

# 1. Enable Sentry in production (mandatory)
# 2. Set SENTRY_ENVIRONMENT=production
# 3. Set SENTRY_RELEASE to git commit hash for release tracking
# 4. Configure Azure cost alerts (see above)
# 5. Monitor Sentry dashboard daily for first week
# 6. Set up Sentry integrations:
#    - Slack: Get notifications in Slack channel
#    - PagerDuty: Alert on-call engineer for critical errors
#    - GitHub: Link errors to commits and create issues
#
# ========================================
