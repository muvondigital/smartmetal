# Azure Document Intelligence Fallback Configuration
# Add these lines to your backend/.env file

# Enable automatic chunked processing fallback when DI returns partial results
# Default: true
# Set to false to disable fallback (debugging only)
ENABLE_DI_CHUNKED_FALLBACK=true

# Number of pages to process per chunk
# Default: 10
# Range: 5-50
# Smaller chunks = more API calls but more reliable
# Larger chunks = fewer API calls but risk of partial results
DI_CHUNK_SIZE=10

# Minimum page difference to trigger chunked fallback
# Default: 5
# If (detectedPages - diPages) >= threshold, trigger chunking
# Example: PDF has 32 pages but DI returns 2 pages, difference=30 >= 5, trigger chunking
DI_PARTIAL_RESULT_THRESHOLD=5

# Example configurations for different scenarios:

# Conservative (more reliable, slower, more expensive)
# ENABLE_DI_CHUNKED_FALLBACK=true
# DI_CHUNK_SIZE=5
# DI_PARTIAL_RESULT_THRESHOLD=3

# Aggressive (faster, cheaper, less reliable)
# ENABLE_DI_CHUNKED_FALLBACK=true
# DI_CHUNK_SIZE=20
# DI_PARTIAL_RESULT_THRESHOLD=10

# Disabled (debugging only - returns partial results)
# ENABLE_DI_CHUNKED_FALLBACK=false
